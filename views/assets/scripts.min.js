$(()=>{var modal=$('#modal');var image=document.getElementById('image_upload');var cropper;$('#upload_image').on('change',(event)=>{var files=event.target.files;var done=(url)=>{image.src=url;modal.modal({backdrop:'static',keyboard:!1})};if(files&&files.length>0){reader=new FileReader();reader.onload=(event)=>{done(reader.result)};reader.readAsDataURL(files[0])}});modal.on('shown.bs.modal',()=>{cropper=new Cropper(image,{aspectRatio:4/3,viewMode:3,preview:'.preview',})}).on('hidden.bs.modal',()=>{cropper.destroy();cropper=null});$('#crop').on('click',()=>{canvas=cropper.getCroppedCanvas({width:300,height:210,});canvas.toBlob((b)=>{url=URL.createObjectURL(b);var reader=new FileReader();reader.readAsDataURL(b);reader.onloadend=()=>{var base64=reader.result;$('#preview-img').attr('src',base64);$('#image-form').attr('value',base64);modal.modal('hide')}})})});$(function(){$(document).on('submit',"form:not('.ajax_off')",function(e){e.preventDefault();var form=$(this);var load=$('#loading');var flashClass='ajax_response';var flash=$('.'+flashClass);form.ajaxSubmit({url:form.attr('action'),type:'POST',dataType:'json',beforeSend:function(){load.show()},success:function(response){if(response.redirect){window.location.href=response.redirect}else{if(response.error){flash.html(response.message).fadeIn(100).effect('bounce',300)}else{flash.fadeOut(100);Swal.fire({icon:'success',title:'Aee!!',text:response.message,}).then((result)=>{if(result.isConfirmed){window.location.reload()}})}}},complete:function(){load.hide();if(form.data('reset')===!0){form.trigger('reset')}},})})});const categories=(select)=>{if(select.value!=='#'){for(i=0;i<select.options.length;i++){var option=select.options[i];if(option.selected===!0){$('.card-category').html(option.text)}}}else{$('.card-category').html('Categoria')}};$(()=>{$('#post-title').on('keyup',()=>{var data=$('#post-title').val();if(data.length>0){$('.card-title').html(data)}else{$('.card-title').html('Título')}});$('#post-subtitle').on('keyup',()=>{var data=$('#post-subtitle').val();if(data.length>0){if(data.length>=120){$('.card-subtitle').html(data.slice(0,120)+'...')}else{$('.card-subtitle').html(data)}}else{$('.card-subtitle').html('subtítulo')}})});function loading(){$('#loading').fadeOut(1000)}
$(function(){AOS.init();$(window).on('scroll',function(){if($(window).scrollTop()<$('.header').height()){$('.header').removeClass('sticky')}else{$('.header').addClass('sticky')}})})